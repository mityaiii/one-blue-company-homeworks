## Пример удачного оформления SQL-запроса

```sql
   select t.assigned_to_user_id as assigned_to_user_id
        , count(1) as tasks_count
     from tasks t
     join task_statuses ts on ts.id = t.status
left join users u on u.id = t.assigned_to_user_id
            and (u.blocked_at is null or u.blocked_at >= now())
    where t.status = 1 /* InProgress */
      and t.created_at between '20230101' and '20230601'
    group by t.assigned_to_user_id
   having count(1) > 1
    order by 2
    limit 10
   offset 3;
```

Руководства:
- каждая команда с новой строки
- запрос должен быть выстроен по последней букве команд (from заканчивается там же, где заканчивается select) - это _основная вертикаль запроса_ см. _select - from - where - group by - order by - limit - offset_
- запятые перечисления полей указываются перед названием полей и смещаются на расстояние основной вертикали
- команды left/right/full "отодвигают" основную вертикаль вправо
- все сущности должны иметь псевдонимы (желательно из 2х символов, т.к. этого почти всегда бывает достаточно)
- все поля должны иметь псевдонимы, даже если псевдоним совпадает с названием поля в таблице
- в условии соединения таблиц сначала указываем поле таблицы _с которой соединяем_, а затем _какую соединяем_
- каждые условия AND стараемся писать на новой строке, условия OR берем в скобки и пишем на той же строке
- если нужно фильтровать по константе, желательно указывать в комментарии, что она обозначает
- для выборки по диапазону дат используем BETWEEN - так нет возможности ошибиться и одну границу включить, а другую нет
